/*

 The MIT License (MIT)
 Copyright (c) 2018 Javan Makhmali

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.

 /

/*
Details Element Polyfill 2.1.1
Copyright ? 2018 Javan Makhmali
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c};
$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;
$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var c=$jscomp.setPrototypeOf;c(a,b)}else for(c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.superClass_=b.prototype};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.polyfill=function(a,b){if(b){var c=$jscomp.global;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Object.values",function(a){return a?a:a=function(a){var b=[],d;for(d in a)$jscomp.owns(a,d)&&b.push(a[d]);return b}},"es8","es3");$jscomp.polyfill("Object.entries",function(a){return a?a:a=function(a){var b=[],d;for(d in a)$jscomp.owns(a,d)&&b.push([d,a[d]]);return b}},"es8","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){function a(a){return $jscomp.SYMBOL_PREFIX+(a||"")+b++}var b=0;return a}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:a=function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.polyfill("Object.is",function(a){return a?a:a=function(a,c){return a===c?0!==a||1/a===1/c:a!==a&&c!==c}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:a=function(a,c){var b=this;b instanceof String&&(b=String(b));var e=b.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var f=b[c];if(f===a||Object.is(f,a))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,b,c){if(null==a)throw new TypeError("The 'this' value for String.prototype."+c+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+c+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:a=function(a,c){var b=$jscomp.checkStringArgs(this,a,"includes");return-1!==b.indexOf(a,c||0)}},"es6","es3");
$jscomp.polyfill("Array.from",function(a){return a?a:a=function(a,c,d){c=null!=c?c:function(a){return a};var b=[],f="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];if("function"==typeof f){a=f.call(a);for(var g=0;!(f=a.next()).done;)b.push(c.call(d,f.value,g++))}else for(f=a.length,g=0;g<f;g++)b.push(c.call(d,a[g],g));return b}},"es6","es3");
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:a=function(a,c){var b=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var e=b.length,f=a.length;c=Math.max(0,Math.min(c|0,b.length));for(var g=0;g<f&&c<e;)if(b[c++]!=a[g++])return!1;return g>=f}},"es6","es3");$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:a=function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
(function(){function a(){(document.body||document.documentElement).appendChild(n);var a=n.offsetHeight;n.open=!0;var b=n.offsetHeight;n.parentNode.removeChild(n);return a!=b}function b(){var a=document.createElement("details").constructor.prototype,b=a.setAttribute,c=a.removeAttribute,d=Object.getOwnPropertyDescriptor(a,"open");Object.defineProperties(a,{open:{get:function(){if("DETAILS"==this.tagName)return this.hasAttribute("open");if(d&&d.get)return d.get.call(this)},set:function(a){if("DETAILS"==
this.tagName)return a?this.setAttribute("open",""):this.removeAttribute("open");if(d&&d.set)return d.set.call(this,a)}},setAttribute:{value:function(a,c){var d=this,e=function(){b.call(d,a,c)};return"DETAILS"==this.tagName?h(this,e):e()}},removeAttribute:{value:function(a){var b=this,d=function(){c.call(b,a)};return"DETAILS"==this.tagName?h(this,d):d()}}})}function c(){k(function(a){a.hasAttribute("open")?(a.removeAttribute("open"),a.setAttribute("aria-expanded",!1)):(a.setAttribute("open",""),a.setAttribute("aria-expanded",
!0))})}function d(){window.MutationObserver?(new MutationObserver(function(a){r.call(a,function(a){var b=a.target;a=a.attributeName;"DETAILS"==b.tagName&&"open"==a&&l(b)})})).observe(document.documentElement,{attributes:!0,subtree:!0}):k(function(a){var b=a.getAttribute("open");setTimeout(function(){var c=a.getAttribute("open");b!=c&&l(a)},1)})}function e(){f(document);window.MutationObserver?(new MutationObserver(function(a){r.call(a,function(a){r.call(a.addedNodes,f)})})).observe(document.documentElement,
{subtree:!0,childList:!0}):document.addEventListener("DOMNodeInserted",function(a){f(a.target)})}function f(a){m(a,"SUMMARY").forEach(function(a){var b=q(a,"DETAILS");a.setAttribute("aria-expanded",b.hasAttribute("open"));a.hasAttribute("tabindex")||a.setAttribute("tabindex","0");a.hasAttribute("role")||a.setAttribute("role","button")})}function g(a){return!(a.defaultPrevented||a.ctrlKey||a.metaKey||a.shiftKey||a.target.isContentEditable)}function k(a){window.addEventListener("click",function(b){g(b)&&
1>=b.which&&(b=q(b.target,"SUMMARY"))&&b.parentNode&&"DETAILS"==b.parentNode.tagName&&a(b.parentNode)},!1);window.addEventListener("keydown",function(b){if(g(b)&&(13==b.keyCode||32==b.keyCode)){var c=q(b.target,"SUMMARY");c&&c.parentNode&&"DETAILS"==c.parentNode.tagName&&(a(c.parentNode),b.preventDefault())}},!1)}function l(a){var b=document.createEvent("Event");b.initEvent("toggle",!0,!1);a.dispatchEvent(b)}function h(a,b){var c=a.getAttribute("open");b=b();var d=a.getAttribute("open");c!=d&&l(a);
return b}function m(a,b){return(a.tagName==b?[a]:[]).concat("function"==typeof a.getElementsByTagName?u.call(a.getElementsByTagName(b)):[])}function q(a,b){if("function"==typeof a.closest)return a.closest(b);for(;a;){if(a.tagName==b)return a;a=a.parentNode}}var n=document.createElement("details");n.innerHTML="<summary>a</summary>b";n.setAttribute("style","position: absolute; left: -9999px");var p={open:"open"in n&&a(),toggle:"ontoggle"in n},t=[],r=t.forEach,u=t.slice;p.open||(document.head.insertAdjacentHTML("afterbegin",
'<style>\ndetails, summary {\n  display: block;\n}\ndetails:not([open]) > *:not(summary) {\n  display: none;\n}\ndetails > summary::before {\n  content: "\u25ba";\n  padding-right: 0.3rem;\n  font-size: 0.6rem;\n  cursor: default;\n}\ndetails[open] > summary::before {\n  content: "\u25bc";\n}\n</style>'),b(),c(),e());p.open&&!p.toggle&&d()})();/*

 Copyright 2017 Google Inc. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS-IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
var RATINGS={PASS:{label:"pass",minScore:.9},AVERAGE:{label:"average",minScore:.5},FAIL:{label:"fail"},ERROR:{label:"error"}},Util=function(){};
Util.prepareReportResult=function(a){var b=JSON.parse(JSON.stringify(a));b.configSettings.locale||(b.configSettings.locale="en");Util.setNumberDateLocale(b.configSettings.locale);b.i18n&&b.i18n.rendererFormattedStrings&&Util.updateAllUIStrings(b.i18n.rendererFormattedStrings);if("object"!==typeof b.categories)throw Error("No categories provided.");b.reportCategories=Object.values(b.categories);a=$jscomp.makeIterator(b.reportCategories);for(var c=a.next();!c.done;c=a.next())c=c.value,c.auditRefs.forEach(function(a){var c=
b.audits[a.id];a.result=c});return b};Util.updateAllUIStrings=function(a){a=$jscomp.makeIterator(Object.entries(a));for(var b=a.next();!b.done;b=a.next()){b=b.value;var c=$jscomp.makeIterator(b);b=c.next().value;c=c.next().value;Util.UIStrings[b]=c}};
Util.formatDisplayValue=function(a){if("string"===typeof a)return a;if(!a)return"";var b=/%([0-9]*(\.[0-9]+)?d|s)/,c=a[0];if("string"!==typeof c)return"UNKNOWN";var d={};a=$jscomp.makeIterator(a.slice(1));for(var e=a.next();!e.done;d={replacement:d.replacement},e=a.next()){d.replacement=e.value;if(!b.test(c)){console.warn("Too many replacements given");break}c=c.replace(b,function(a){return function(b){var c=Number(b.match(/[0-9.]+/))||1;return"%s"===b?a.replacement.toLocaleString():(Math.round(Number(a.replacement)/
c)*c).toLocaleString()}}(d))}b.test(c)&&console.warn("Not enough replacements given");return c};Util.showAsPassed=function(a){switch(a.scoreDisplayMode){case "manual":case "not-applicable":return!0;case "error":case "informative":return!1;default:return Number(a.score)>=RATINGS.PASS.minScore}};
Util.calculateRating=function(a,b){if("manual"===b||"not-applicable"===b)return RATINGS.PASS.label;if("error"===b)return RATINGS.ERROR.label;if(null===a)return RATINGS.FAIL.label;b=RATINGS.FAIL.label;a>=RATINGS.PASS.minScore?b=RATINGS.PASS.label:a>=RATINGS.AVERAGE.minScore&&(b=RATINGS.AVERAGE.label);return b};Util.formatNumber=function(a,b){b=void 0===b?.1:b;a=Math.round(a/b)*b;return a.toLocaleString(Util.numberDateLocale)};
Util.formatBytesToKB=function(a,b){b=void 0===b?.1:b;a=(Math.round(a/1024/b)*b).toLocaleString(Util.numberDateLocale);return""+a+"\u00a0KB"};Util.formatMilliseconds=function(a,b){b=void 0===b?10:b;a=Math.round(a/b)*b;return""+a.toLocaleString(Util.numberDateLocale)+"\u00a0ms"};Util.formatSeconds=function(a,b){b=void 0===b?.1:b;a=Math.round(a/1E3/b)*b;return""+a.toLocaleString(Util.numberDateLocale)+"\u00a0s"};
Util.formatDateTime=function(a){var b={month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"},c=new Intl.DateTimeFormat(Util.numberDateLocale,b),d=c.resolvedOptions().timeZone;d&&"etc/unknown"!==d.toLowerCase()||(b.timeZone="UTC",c=new Intl.DateTimeFormat(Util.numberDateLocale,b));return c.format(new Date(a))};
Util.formatDuration=function(a){var b=a/1E3;if(0===Math.round(b))return"None";var c=[],d={d:86400,h:3600,m:60,s:1};Object.keys(d).forEach(function(a){var e=d[a],g=Math.floor(b/e);0<g&&(b-=g*e,c.push(g+"\u00a0"+a))});return c.join(" ")};
Util.getURLDisplayName=function(a,b){b=b||{numPathParts:void 0,preserveQuery:void 0,preserveHost:void 0};var c=void 0!==b.numPathParts?b.numPathParts:2,d=void 0!==b.preserveQuery?b.preserveQuery:!0,e=b.preserveHost||!1;if("about:"===a.protocol||"data:"===a.protocol)b=a.href;else{b=a.pathname;var f=b.split("/").filter(function(a){return a.length});c&&f.length>c&&(b="\u2026"+f.slice(-1*c).join("/"));e&&(b=a.host+"/"+b.replace(/^\//,""));d&&(b=""+b+a.search)}b=b.replace(/([a-f0-9]{7})[a-f0-9]{13}[a-f0-9]*/g,
"$1\u2026");b=b.replace(/([a-zA-Z0-9-_]{9})(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[a-zA-Z0-9-_]{10,}/g,"$1\u2026");b=b.replace(/(\d{3})\d{6,}/g,"$1\u2026");b=b.replace(/\u2026+/g,"\u2026");64<b.length&&b.includes("?")&&(b=b.replace(/\?([^=]*)(=)?.*/,"?$1$2\u2026"),64<b.length&&(b=b.replace(/\?.*/,"?\u2026")));64<b.length&&(a=b.lastIndexOf("."),b=0<=a?b.slice(0,63-(b.length-a))+("\u2026"+b.slice(a)):b.slice(0,63)+"\u2026");return b};
Util.parseURL=function(a){a=new URL(a);return{file:Util.getURLDisplayName(a),hostname:a.hostname,origin:a.origin}};Util.getEnvironmentDisplayValues=function(a){a=Util.getEmulationDescriptions(a);return[{name:"Device",description:a.deviceEmulation},{name:"Network throttling",description:a.networkThrottling},{name:"CPU throttling",description:a.cpuThrottling}]};
Util.getEmulationDescriptions=function(a){var b;var c=a.throttling;switch(a.throttlingMethod){case "provided":c=b="Provided by environment";var d="No throttling applied";break;case "devtools":d=c;b=d.cpuSlowdownMultiplier;d=d.requestLatencyMs;b=Util.formatNumber(b)+"x slowdown (DevTools)";c=""+Util.formatNumber(d)+"\u00a0ms HTTP RTT, "+(""+Util.formatNumber(c.downloadThroughputKbps)+"\u00a0Kbps down, ")+(""+Util.formatNumber(c.uploadThroughputKbps)+"\u00a0Kbps up (DevTools)");d="Throttled Slow 4G network";
break;case "simulate":d=c;b=d.cpuSlowdownMultiplier;c=d.rttMs;d=d.throughputKbps;b=Util.formatNumber(b)+"x slowdown (Simulated)";c=""+Util.formatNumber(c)+"\u00a0ms TCP RTT, "+(""+Util.formatNumber(d)+"\u00a0Kbps throughput (Simulated)");d="Simulated Slow 4G network";break;default:d=c=b="Unknown"}var e="No emulation";a.disableDeviceEmulation||("mobile"===a.emulatedFormFactor&&(e="Emulated Nexus 5X"),"desktop"===a.emulatedFormFactor&&(e="Emulated Desktop"));return{deviceEmulation:e,cpuThrottling:b,
networkThrottling:c,summary:e+", "+d}};Util.setNumberDateLocale=function(a){Util.numberDateLocale=a;"en-XA"===Util.numberDateLocale&&(Util.numberDateLocale="de")};Util.numberDateLocale="en";
Util.UIStrings={varianceDisclaimer:"Values are estimated and may vary.",opportunityResourceColumnLabel:"Opportunity",opportunitySavingsColumnLabel:"Estimated Savings",errorMissingAuditInfo:"Report error: no audit information",errorLabel:"Error!",warningHeader:"Warnings: ",auditGroupExpandTooltip:"Show audits",passedAuditsGroupTitle:"Passed audits",notApplicableAuditsGroupTitle:"Not applicable",manualAuditsGroupTitle:"Additional items to manually check",toplevelWarningsMessage:"There were issues affecting this run of Lighthouse:",
scorescaleLabel:"Score scale:",crcInitialNavigation:"Initial Navigation",crcLongestDurationLabel:"Maximum critical path latency:",lsPerformanceCategoryDescription:"[Lighthouse](https://developers.google.com/web/tools/lighthouse/) analysis of the current page on an emulated mobile network. Values are estimated and may vary.",labDataTitle:"Lab Data"};"undefined"!==typeof module&&module.exports?module.exports=Util:self.Util=Util;var DOM=function(a){this._document=a};DOM.prototype.createElement=function(a,b,c){c=void 0===c?{}:c;var d=this._document.createElement(a);b&&(d.className=b);Object.keys(c).forEach(function(a){var b=c[a];"undefined"!==typeof b&&d.setAttribute(a,b)});return d};DOM.prototype.createFragment=function(){return this._document.createDocumentFragment()};DOM.prototype.createChildOf=function(a,b,c,d){b=this.createElement(b,c,d);a.appendChild(b);return b};
DOM.prototype.cloneTemplate=function(a,b){b=b.querySelector(a);if(!b)throw Error("Template not found: template"+a);a=this._document.importNode(b.content,!0);b.hasAttribute("data-stamped")&&this.findAll("style",a).forEach(function(a){return a.remove()});b.setAttribute("data-stamped","true");return a};DOM.prototype.resetTemplates=function(){this.findAll("template[data-stamped]",this._document).forEach(function(a){a.removeAttribute("data-stamped")})};
DOM.prototype.convertMarkdownLinkSnippets=function(a){var b=this.createElement("span");for(a=a.split(/\[([^\]]*?)\]\((https?:\/\/.*?)\)/g);a.length;){var c=$jscomp.makeIterator(a.splice(0,3)),d=c.next().value,e=c.next().value;c=c.next().value;b.appendChild(this._document.createTextNode(d));e&&c&&(d=this.createElement("a"),d.rel="noopener",d.target="_blank",d.textContent=e,d.href=(new URL(c)).href,b.appendChild(d))}return b};
DOM.prototype.convertMarkdownCodeSnippets=function(a){var b=this.createElement("span");for(a=a.split(/`(.*?)`/g);a.length;){var c=$jscomp.makeIterator(a.splice(0,2)),d=c.next().value;c=c.next().value;b.appendChild(this._document.createTextNode(d));c&&(d=this.createElement("code"),d.textContent=c,b.appendChild(d))}return b};DOM.prototype.document=function(){return this._document};DOM.prototype.isDevTools=function(){return!!this._document.querySelector(".lh-devtools")};
DOM.prototype.find=function(a,b){b=b.querySelector(a);if(null===b)throw Error("query "+a+" not found");return b};DOM.prototype.findAll=function(a,b){return Array.from(b.querySelectorAll(a))};"undefined"!==typeof module&&module.exports?module.exports=DOM:self.DOM=DOM;var URL_PREFIXES=["http://","https://","data:"],DetailsRenderer=function(a){this._dom=a};DetailsRenderer.prototype.setTemplateContext=function(a){this._templateContext=a};
DetailsRenderer.prototype.render=function(a){switch(a.type){case "text":return this._renderText(a);case "url":return this._renderTextURL(a);case "bytes":return this._renderBytes(a);case "ms":return this._renderMilliseconds(a);case "link":return this._renderLink(a);case "thumbnail":return this._renderThumbnail(a);case "filmstrip":return this._renderFilmstrip(a);case "table":return this._renderTable(a);case "code":return this._renderCode(a);case "node":return this.renderNode(a);case "criticalrequestchain":return CriticalRequestChainRenderer.render(this._dom,
this._templateContext,a);case "opportunity":return this._renderOpportunityTable(a);case "numeric":return this._renderNumeric(a);default:throw Error("Unknown type: "+a.type);}};DetailsRenderer.prototype._renderBytes=function(a){a=Util.formatBytesToKB(a.value,a.granularity);return this._renderText({value:a})};DetailsRenderer.prototype._renderMilliseconds=function(a){var b=Util.formatMilliseconds(a.value,a.granularity);"duration"===a.displayUnit&&(b=Util.formatDuration(a.value));return this._renderText({value:b})};
DetailsRenderer.prototype._renderTextURL=function(a){a=a.value;try{var b=Util.parseURL(a);var c="/"===b.file?b.origin:b.file;var d="/"===b.file?"":"("+b.hostname+")";var e=a}catch(f){c=a}b=this._dom.createElement("div","lh-text__url");b.appendChild(this._renderText({value:c}));d&&(c=this._renderText({value:d}),c.classList.add("lh-text__url-host"),b.appendChild(c));e&&(b.title=a);return b};
DetailsRenderer.prototype._renderLink=function(a){var b=["https:","http:"],c=new URL(a.url);if(!b.includes(c.protocol))return this._renderText({value:a.text});b=this._dom.createElement("a");b.rel="noopener";b.target="_blank";b.textContent=a.text;b.href=c.href;return b};DetailsRenderer.prototype._renderText=function(a){var b=this._dom.createElement("div","lh-text");b.textContent=a.value;return b};
DetailsRenderer.prototype._renderNumeric=function(a){var b=this._dom.createElement("div","lh-numeric");b.textContent=a.value;return b};DetailsRenderer.prototype._renderThumbnail=function(a){var b=this._dom.createElement("img","lh-thumbnail");a=a.value;b.src=a;b.title=a;b.alt="";return b};
DetailsRenderer.prototype._renderTable=function(a){if(!a.items.length)return this._dom.createElement("span");var b=this._dom.createElement("table","lh-table"),c=this._dom.createChildOf(b,"thead");c=this._dom.createChildOf(c,"tr");for(var d=$jscomp.makeIterator(a.headings),e=d.next();!e.done;e=d.next()){var f=e.value,g=f.itemType||"text";g="lh-table-column--"+g;this._dom.createChildOf(c,"th",g).appendChild(this.render({type:"text",value:f.text||""}))}c=this._dom.createChildOf(b,"tbody");d=$jscomp.makeIterator(a.items);
for(f=d.next();!f.done;f=d.next()){f=f.value;g=this._dom.createChildOf(c,"tr");var k=$jscomp.makeIterator(a.headings);for(e=k.next();!e.done;e=k.next()){e=e.value;var l=e.key,h=f[l];"undefined"===typeof h||null===h?this._dom.createChildOf(g,"td","lh-table-column--empty"):h.type?(e=h,l="lh-table-column--"+e.type,this._dom.createChildOf(g,"td",l).appendChild(this.render(e))):(l={value:h,type:e.itemType,displayUnit:e.displayUnit,granularity:e.granularity},h=h.type,e="lh-table-column--"+(h||e.itemType),
this._dom.createChildOf(g,"td",e).appendChild(this.render(l)))}}return b};
DetailsRenderer.prototype._renderOpportunityTable=function(a){if(!a.items.length)return this._dom.createElement("span");var b=this._dom.createElement("table","lh-table"),c=this._dom.createChildOf(b,"thead");c=this._dom.createChildOf(c,"tr");for(var d=$jscomp.makeIterator(a.headings),e=d.next();!e.done;e=d.next()){var f=e.value,g=f.valueType||"text";g="lh-table-column--"+g;var k=this._dom.createElement("div","lh-text");k.textContent=f.label;this._dom.createChildOf(c,"th",g).appendChild(k)}c=this._dom.createChildOf(b,
"tbody");d=$jscomp.makeIterator(a.items);for(f=d.next();!f.done;f=d.next()){f=f.value;g=this._dom.createChildOf(c,"tr");k={};var l=$jscomp.makeIterator(a.headings);for(e=l.next();!e.done;k={strValue:k.strValue},e=l.next()){e=e.value;var h=e.key;h=f[h];if("undefined"===typeof h||null===h)this._dom.createChildOf(g,"td","lh-table-column--empty");else{e=e.valueType;var m=void 0;switch(e){case "url":k.strValue=h;m=URL_PREFIXES.some(function(a){return function(b){return a.strValue.startsWith(b)}}(k))?this._renderTextURL({value:k.strValue}):
this._renderCode({value:h});break;case "timespanMs":m=this._renderMilliseconds({value:h});break;case "bytes":m=this._renderBytes({value:h,granularity:1});break;case "thumbnail":m=this._renderThumbnail({value:h});break;default:throw Error("Unknown valueType: "+e);}e="lh-table-column--"+e;this._dom.createChildOf(g,"td",e).appendChild(m)}}}return b};
DetailsRenderer.prototype.renderNode=function(a){var b=this._dom.createElement("span","lh-node");a.snippet&&(b.textContent=a.snippet);a.selector&&(b.title=a.selector);a.path&&b.setAttribute("data-path",a.path);a.selector&&b.setAttribute("data-selector",a.selector);a.snippet&&b.setAttribute("data-snippet",a.snippet);return b};
DetailsRenderer.prototype._renderFilmstrip=function(a){var b=this._dom.createElement("div","lh-filmstrip");a=$jscomp.makeIterator(a.items);for(var c=a.next();!c.done;c=a.next()){c=c.value;var d=this._dom.createChildOf(b,"div","lh-filmstrip__frame");this._dom.createChildOf(d,"img","lh-filmstrip__thumbnail",{src:"data:image/jpeg;base64,"+c.data,alt:"Screenshot"})}return b};DetailsRenderer.prototype._renderCode=function(a){var b=this._dom.createElement("pre","lh-code");b.textContent=a.value;return b};
"undefined"!==typeof module&&module.exports?module.exports=DetailsRenderer:self.DetailsRenderer=DetailsRenderer;var CriticalRequestChainRenderer=function(){};CriticalRequestChainRenderer.initTree=function(a){var b=0,c=Object.keys(a);0<c.length&&(b=a[c[0]],b=b.request.startTime);return{tree:a,startTime:b,transferSize:0}};
CriticalRequestChainRenderer.createSegment=function(a,b,c,d,e,f){var g=a[b];a=Object.keys(a);b=a.indexOf(b)===a.length-1;a=!!g.children&&0<Object.keys(g.children).length;e=Array.isArray(e)?e.slice(0):[];"undefined"!==typeof f&&e.push(!f);return{node:g,isLastChild:b,hasChildren:a,startTime:c,transferSize:d+g.request.transferSize,treeMarkers:e}};
CriticalRequestChainRenderer.createChainNode=function(a,b,c){b=a.cloneTemplate("#tmpl-lh-crc__chains",b);a.find(".crc-node",b).setAttribute("title",c.node.request.url);var d=a.find(".crc-node__tree-marker",b);c.treeMarkers.forEach(function(b){b?d.appendChild(a.createElement("span","tree-marker vert")):d.appendChild(a.createElement("span","tree-marker"));d.appendChild(a.createElement("span","tree-marker"))});c.isLastChild?d.appendChild(a.createElement("span","tree-marker up-right")):d.appendChild(a.createElement("span",
"tree-marker vert-right"));d.appendChild(a.createElement("span","tree-marker right"));c.hasChildren?d.appendChild(a.createElement("span","tree-marker horiz-down")):d.appendChild(a.createElement("span","tree-marker right"));var e=Util.parseURL(c.node.request.url),f=e.file,g=e.hostname;e=a.find(".crc-node__tree-value",b);a.find(".crc-node__tree-file",e).textContent=""+f;a.find(".crc-node__tree-hostname",e).textContent=g?"("+g+")":"";if(!c.hasChildren){g=c.node.request;c=g.startTime;f=g.endTime;g=g.transferSize;
var k=a.createElement("span","crc-node__chain-duration");k.textContent=" - "+Util.formatMilliseconds(1E3*(f-c))+", ";c=a.createElement("span","crc-node__chain-duration");c.textContent=Util.formatBytesToKB(g,.01);e.appendChild(k);e.appendChild(c)}return b};
CriticalRequestChainRenderer.buildTree=function(a,b,c,d,e){d.appendChild(CriticalRequestChainRenderer.createChainNode(a,b,c));if(c.node.children)for(var f=$jscomp.makeIterator(Object.keys(c.node.children)),g=f.next();!g.done;g=f.next())g=g.value,g=CriticalRequestChainRenderer.createSegment(c.node.children,g,c.startTime,c.transferSize,c.treeMarkers,c.isLastChild),CriticalRequestChainRenderer.buildTree(a,b,g,d,e)};
CriticalRequestChainRenderer.render=function(a,b,c){b=a.cloneTemplate("#tmpl-lh-crc",b);var d=a.find(".lh-crc",b);a.find(".crc-initial-nav",b).textContent=Util.UIStrings.crcInitialNavigation;a.find(".lh-crc__longest_duration_label",b).textContent=Util.UIStrings.crcLongestDurationLabel;a.find(".lh-crc__longest_duration",b).textContent=Util.formatMilliseconds(c.longestChain.duration);for(var e=CriticalRequestChainRenderer.initTree(c.chains),f=$jscomp.makeIterator(Object.keys(e.tree)),g=f.next();!g.done;g=
f.next())g=g.value,g=CriticalRequestChainRenderer.createSegment(e.tree,g,e.startTime,e.transferSize),CriticalRequestChainRenderer.buildTree(a,b,g,d,c);return a.find(".lh-crc-container",b)};"undefined"!==typeof module&&module.exports?module.exports=CriticalRequestChainRenderer:self.CriticalRequestChainRenderer=CriticalRequestChainRenderer;var CategoryRenderer=function(a,b){this.dom=a;this.detailsRenderer=b;this.templateContext=this.dom.document();this.detailsRenderer.setTemplateContext(this.templateContext)};CategoryRenderer.prototype.renderAudit=function(a,b){var c=this.dom.cloneTemplate("#tmpl-lh-audit",this.templateContext);return this.populateAuditValues(a,b,c)};
CategoryRenderer.prototype.populateAuditValues=function(a,b,c){c=this.dom.find(".lh-audit",c);c.id=a.result.id;var d=a.result.scoreDisplayMode;if(a.result.displayValue){var e=Util.formatDisplayValue(a.result.displayValue);this.dom.find(".lh-audit__display-text",c).textContent=e}e=this.dom.find(".lh-audit__title",c);e.appendChild(this.dom.convertMarkdownCodeSnippets(a.result.title));this.dom.find(".lh-audit__description",c).appendChild(this.dom.convertMarkdownLinkSnippets(a.result.description));var f=
this.dom.find("details",c);if(a.result.details&&a.result.details.type){var g=this.detailsRenderer.render(a.result.details);g.classList.add("lh-details");f.appendChild(g)}this.dom.find(".lh-audit__index",c).textContent=""+(b+1);this.dom.find(".lh-chevron-container",c).appendChild(this._createChevron());this._setRatingClass(c,a.result.score,d);"error"===a.result.scoreDisplayMode?(c.classList.add("lh-audit--error"),b=this.dom.find(".lh-audit__display-text",c),b.textContent=Util.UIStrings.errorLabel,
b.classList.add("tooltip-boundary"),b=this.dom.createChildOf(b,"div","tooltip tooltip--error"),b.textContent=a.result.errorMessage||Util.UIStrings.errorMissingAuditInfo):a.result.explanation&&(b=this.dom.createChildOf(e,"div","lh-audit-explanation"),b.textContent=a.result.explanation);b=a.result.warnings;if(!b||0===b.length)return c;a=this.dom.createChildOf(e,"div","lh-warnings");if(1===b.length)a.textContent=Util.UIStrings.warningHeader+" "+b.join("");else for(a.textContent=Util.UIStrings.warningHeader,
a=this.dom.createChildOf(a,"ul"),e=$jscomp.makeIterator(b),b=e.next();!b.done;b=e.next())b=b.value,d=this.dom.createChildOf(a,"li"),d.textContent=b;return c};CategoryRenderer.prototype._createChevron=function(){var a=this.dom.cloneTemplate("#tmpl-lh-chevron",this.templateContext);return a=this.dom.find(".lh-chevron",a)};CategoryRenderer.prototype._setRatingClass=function(a,b,c){b=Util.calculateRating(b,c);a.classList.add("lh-audit--"+b,"lh-audit--"+c);return a};
CategoryRenderer.prototype.renderCategoryHeader=function(a){var b=this.dom.cloneTemplate("#tmpl-lh-category-header",this.templateContext),c=this.dom.find(".lh-score__gauge",b),d=this.renderScoreGauge(a);c.appendChild(d);this.dom.find(".lh-category-header__title",b).appendChild(this.dom.convertMarkdownCodeSnippets(a.title));a.description&&(a=this.dom.convertMarkdownLinkSnippets(a.description),this.dom.find(".lh-category-header__description",b).appendChild(a));return b.firstElementChild};
CategoryRenderer.prototype.renderAuditGroup=function(a,b){var c=b.expandable,d=this.dom.createElement(c?"details":"div","lh-audit-group"),e=this.dom.createChildOf(d,c?"summary":"div"),f=this.dom.createChildOf(e,"div","lh-audit-group__summary");e=this.dom.createChildOf(f,"div","lh-audit-group__header");var g=this.dom.createChildOf(f,"div","lh-audit-group__itemcount");c&&(c=f.appendChild(this._createChevron()),c.title=Util.UIStrings.auditGroupExpandTooltip);a.description&&(c=this.dom.createElement("div",
"lh-audit-group__description"),c.appendChild(this.dom.convertMarkdownLinkSnippets(a.description)),d.appendChild(c));e.textContent=a.title;b.itemCount&&(g.textContent=b.itemCount+" audits");return d};CategoryRenderer.prototype._getTotalAuditsLength=function(a){var b=this.dom.createElement("div");a.forEach(function(a){b.appendChild(a)});var c=b.querySelectorAll(".lh-audit");return c.length?c.length:a.length};
CategoryRenderer.prototype._renderFailedAuditsSection=function(a){var b=this.dom.createElement("div");b.classList.add("lh-failed-audits");a.forEach(function(a){return b.appendChild(a)});return b};CategoryRenderer.prototype.renderPassedAuditsSection=function(a){var b=this.renderAuditGroup({title:Util.UIStrings.passedAuditsGroupTitle},{expandable:!0,itemCount:this._getTotalAuditsLength(a)});b.classList.add("lh-passed-audits");a.forEach(function(a){return b.appendChild(a)});return b};
CategoryRenderer.prototype._renderNotApplicableAuditsSection=function(a){var b=this.renderAuditGroup({title:Util.UIStrings.notApplicableAuditsGroupTitle},{expandable:!0,itemCount:this._getTotalAuditsLength(a)});b.classList.add("lh-audit-group--not-applicable");a.forEach(function(a){return b.appendChild(a)});return b};
CategoryRenderer.prototype._renderManualAudits=function(a,b){var c=this;b={title:Util.UIStrings.manualAuditsGroupTitle,description:b};var d=this.renderAuditGroup(b,{expandable:!0,itemCount:a.length});d.classList.add("lh-audit-group--manual");a.forEach(function(a,b){d.appendChild(c.renderAudit(a,b))});return d};CategoryRenderer.prototype.setTemplateContext=function(a){this.templateContext=a;this.detailsRenderer.setTemplateContext(a)};
CategoryRenderer.prototype.renderScoreGauge=function(a){var b=this.dom.cloneTemplate("#tmpl-lh-gauge",this.templateContext),c=this.dom.find(".lh-gauge__wrapper",b);c.href="#"+a.id;c.classList.add("lh-gauge__wrapper--"+Util.calculateRating(a.score));c=Number(a.score);var d=this.dom.find(".lh-gauge",b);if(d=d.querySelector(".lh-gauge-arc"))d.style.strokeDasharray=329*c+" 329";c=Math.round(100*c);d=this.dom.find(".lh-gauge__percentage",b);d.textContent=c.toString();null===a.score&&(d.textContent="?",
d.title=Util.UIStrings.errorLabel);this.dom.find(".lh-gauge__label",b).textContent=a.title;return b};
CategoryRenderer.prototype.render=function(a,b){var c=this,d=this.dom.createElement("div","lh-category");this.createPermalinkSpan(d,a.id);d.appendChild(this.renderCategoryHeader(a));var e=a.auditRefs,f=e.filter(function(a){return"manual"===a.result.scoreDisplayMode});e=e.filter(function(a){return!f.includes(a)});var g={},k={passed:[],failed:[],notApplicable:[]};e.forEach(function(a){if(a.group){var b=a.group;if(g[b])var c=g[b];else c={passed:[],failed:[],notApplicable:[]},g[b]=c}else c=k;"not-applicable"===
a.result.scoreDisplayMode?c.notApplicable.push(a):Util.showAsPassed(a.result)?c.passed.push(a):c.failed.push(a)});var l=[],h=[],m=[];k.failed.forEach(function(a,b){return l.push(c.renderAudit(a,b))});k.passed.forEach(function(a,b){return h.push(c.renderAudit(a,b))});k.notApplicable.forEach(function(a,b){return m.push(c.renderAudit(a,b))});Object.keys(g).forEach(function(a){if(b){var d=b[a];a=g[a];if(a.failed.length){var e=c.renderAuditGroup(d,{expandable:!1});a.failed.forEach(function(a,b){return e.appendChild(c.renderAudit(a,
b))});e.classList.add("lh-audit-group--unadorned");l.push(e)}if(a.passed.length){var f=c.renderAuditGroup(d,{expandable:!0});a.passed.forEach(function(a,b){return f.appendChild(c.renderAudit(a,b))});f.classList.add("lh-audit-group--unadorned");h.push(f)}if(a.notApplicable.length){var k=c.renderAuditGroup(d,{expandable:!0});a.notApplicable.forEach(function(a,b){return k.appendChild(c.renderAudit(a,b))});k.classList.add("lh-audit-group--unadorned");m.push(k)}}});l.length&&(e=this._renderFailedAuditsSection(l),
d.appendChild(e));f.length&&(a=this._renderManualAudits(f,a.manualDescription),d.appendChild(a));h.length&&(a=this.renderPassedAuditsSection(h),d.appendChild(a));m.length&&(a=this._renderNotApplicableAuditsSection(m),d.appendChild(a));return d};CategoryRenderer.prototype.createPermalinkSpan=function(a,b){a=this.dom.createChildOf(a,"span","lh-permalink");a.id=b};"undefined"!==typeof module&&module.exports?module.exports=CategoryRenderer:self.CategoryRenderer=CategoryRenderer;/*

 Copyright 2018 Google Inc. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS-IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
var PerformanceCategoryRenderer=function(a){CategoryRenderer.apply(this,arguments)};$jscomp.inherits(PerformanceCategoryRenderer,CategoryRenderer);
PerformanceCategoryRenderer.prototype._renderMetric=function(a){var b=this.dom.cloneTemplate("#tmpl-lh-metric",this.templateContext),c=this.dom.find(".lh-metric",b);c.id=a.result.id;var d=Util.calculateRating(a.result.score,a.result.scoreDisplayMode);c.classList.add("lh-metric--"+d);d=this.dom.find(".lh-metric__title",b);d.textContent=a.result.title;d=this.dom.find(".lh-metric__value",b);d.textContent=Util.formatDisplayValue(a.result.displayValue);b=this.dom.find(".lh-metric__description",b);b.appendChild(this.dom.convertMarkdownLinkSnippets(a.result.description));
"error"===a.result.scoreDisplayMode&&(b.textContent="",d.textContent="Error!",b=this.dom.createChildOf(b,"span"),b.textContent=a.result.errorMessage||"Report error: no metric information");return c};
PerformanceCategoryRenderer.prototype._renderOpportunity=function(a,b,c){var d=this.dom.cloneTemplate("#tmpl-lh-opportunity",this.templateContext);b=this.populateAuditValues(a,b,d);b.id=a.result.id;if(!a.result.details||"error"===a.result.scoreDisplayMode)return b;var e=a.result.details;if("opportunity"!==e.type)return b;d=this.dom.find(".lh-audit__display-text",b);c=e.overallSavingsMs/c*100+"%";this.dom.find(".lh-sparkline__bar",b).style.width=c;d.textContent=Util.formatSeconds(e.overallSavingsMs,
.01);a.result.displayValue&&(a=Util.formatDisplayValue(a.result.displayValue),this.dom.find(".lh-load-opportunity__sparkline",b).title=a,d.title=a);return b};PerformanceCategoryRenderer.prototype._getWastedMs=function(a){if(a.result.details&&"opportunity"===a.result.details.type){a=a.result.details;if("number"!==typeof a.overallSavingsMs)throw Error("non-opportunity details passed to _getWastedMs");return a.overallSavingsMs}return Number.MIN_VALUE};
PerformanceCategoryRenderer.prototype.render=function(a,b,c){var d=this,e=this.dom.createElement("div","lh-category");if("PSI"===c){var f=this.dom.createElement("div","lh-score__gauge");f.appendChild(this.renderScoreGauge(a));e.appendChild(f)}else this.createPermalinkSpan(e,a.id),e.appendChild(this.renderCategoryHeader(a));var g=a.auditRefs.filter(function(a){return"metrics"===a.group});f=this.renderAuditGroup(b.metrics,{expandable:!1});var k=g.filter(function(a){return 3<=a.weight});g=g.filter(function(a){return 3>
a.weight});var l=this.dom.createChildOf(f,"div","lh-columns"),h=this.dom.createChildOf(l,"div","lh-column"),m=this.dom.createChildOf(l,"div","lh-column");k.forEach(function(a){h.appendChild(d._renderMetric(a))});g.forEach(function(a){m.appendChild(d._renderMetric(a))});"PSI"!==c&&(c=this.dom.createChildOf(m,"div","lh-metrics__disclaimer lh-metrics__disclaimer"),c.textContent=Util.UIStrings.varianceDisclaimer);f.classList.add("lh-audit-group--metrics");e.appendChild(f);c=this.dom.createChildOf(e,"div",
"lh-filmstrip-container");(f=(f=a.auditRefs.find(function(a){return"screenshot-thumbnails"===a.id}))&&f.result)&&f.details&&(c.id=f.id,f=this.detailsRenderer.render(f.details),c.appendChild(f));c=a.auditRefs.filter(function(a){return"load-opportunities"===a.group&&!Util.showAsPassed(a.result)}).sort(function(a,b){return d._getWastedMs(b)-d._getWastedMs(a)});if(c.length){f=c.map(function(a){return d._getWastedMs(a)});f=Math.max.apply(Math,$jscomp.arrayFromIterable(f));var q=Math.max(1E3*Math.ceil(f/
1E3),2E3),n=this.renderAuditGroup(b["load-opportunities"],{expandable:!1});f=this.dom.cloneTemplate("#tmpl-lh-opportunity-header",this.templateContext);this.dom.find(".lh-load-opportunity__col--one",f).textContent=Util.UIStrings.opportunityResourceColumnLabel;this.dom.find(".lh-load-opportunity__col--two",f).textContent=Util.UIStrings.opportunitySavingsColumnLabel;f=this.dom.find(".lh-load-opportunity__header",f);n.appendChild(f);c.forEach(function(a,b){return n.appendChild(d._renderOpportunity(a,
b,q))});n.classList.add("lh-audit-group--opportunities");e.appendChild(n)}c=a.auditRefs.filter(function(a){return"diagnostics"===a.group&&!Util.showAsPassed(a.result)}).sort(function(a,b){a="informative"===a.result.scoreDisplayMode?100:Number(a.result.score);b="informative"===b.result.scoreDisplayMode?100:Number(b.result.score);return a-b});if(c.length){var p=this.renderAuditGroup(b.diagnostics,{expandable:!1});c.forEach(function(a,b){return p.appendChild(d.renderAudit(a,b))});p.classList.add("lh-audit-group--diagnostics");
e.appendChild(p)}a=a.auditRefs.filter(function(a){return("load-opportunities"===a.group||"diagnostics"===a.group)&&Util.showAsPassed(a.result)}).map(function(a,b){return d.renderAudit(a,b)});if(!a.length)return e;a=this.renderPassedAuditsSection(a);e.appendChild(a);return e};"undefined"!==typeof module&&module.exports?module.exports=PerformanceCategoryRenderer:self.PerformanceCategoryRenderer=PerformanceCategoryRenderer;var ReportRenderer=function(a){this._dom=a;this._templateContext=this._dom.document()};ReportRenderer.prototype.setTemplateContext=function(a){this._templateContext=a};
ReportRenderer.prototype._renderReportHeader=function(a){var b=this._dom.cloneTemplate("#tmpl-lh-heading",this._templateContext),c=this._dom.cloneTemplate("#tmpl-lh-scores-wrapper",this._templateContext),d=this._dom.find(".lh-scores-wrapper-placeholder",b);d.parentNode.replaceChild(c,d);this._dom.find(".lh-config__timestamp",b).textContent=Util.formatDateTime(a.fetchTime);this._dom.find(".lh-product-info__version",b).textContent=a.lighthouseVersion;c=this._dom.find(".lh-metadata__url",b);d=this._dom.find(".lh-toolbar__url",
b);c.href=c.textContent=a.finalUrl;d.href=d.textContent=a.finalUrl;a=Util.getEmulationDescriptions(a.configSettings||{});this._dom.find(".lh-config__emulation",b).textContent=a.summary;return b};ReportRenderer.prototype._renderReportShortHeader=function(){var a=this._dom.createElement("div","lh-header-container"),b=this._dom.cloneTemplate("#tmpl-lh-scores-wrapper",this._templateContext);a.appendChild(b);return a};
ReportRenderer.prototype._renderReportFooter=function(a){var b=this,c=this._dom.cloneTemplate("#tmpl-lh-footer",this._templateContext),d=this._dom.find(".lh-env__items",c);d.id="runtime-settings";var e=Util.getEnvironmentDisplayValues(a.configSettings||{});[{name:"URL",description:a.finalUrl},{name:"Fetch time",description:Util.formatDateTime(a.fetchTime)}].concat($jscomp.arrayFromIterable(e),[{name:"User agent (host)",description:a.userAgent},{name:"User agent (network)",description:a.environment&&
a.environment.networkUserAgent},{name:"CPU/Memory Power",description:a.environment&&a.environment.benchmarkIndex.toFixed(0)}]).forEach(function(a){if(a.description){var c=b._dom.cloneTemplate("#tmpl-lh-env__items",d);b._dom.find(".lh-env__name",c).textContent=a.name+":";b._dom.find(".lh-env__description",c).textContent=a.description;d.appendChild(c)}});this._dom.find(".lh-footer__version",c).textContent=a.lighthouseVersion;return c};
ReportRenderer.prototype._renderReportWarnings=function(a){if(!a.runWarnings||0===a.runWarnings.length)return this._dom.createElement("div");var b=this._dom.cloneTemplate("#tmpl-lh-warnings--toplevel",this._templateContext),c=this._dom.find(".lh-warnings__msg",b);c.textContent=Util.UIStrings.toplevelWarningsMessage;c=this._dom.find("ul",b);a=$jscomp.makeIterator(a.runWarnings);for(var d=a.next();!d.done;d=a.next()){d=d.value;var e=c.appendChild(this._dom.createElement("li"));e.textContent=d}return b};
ReportRenderer.prototype._renderReport=function(a){var b=this._dom.createElement("div");if(this._dom.isDevTools()){b.classList.add("lh-header-plain");var c=this._renderReportShortHeader()}else b.classList.add("lh-header-sticky"),c=this._renderReportHeader(a);b.appendChild(c);c=this._dom.createElement("div","lh-container");var d=c.appendChild(this._dom.createElement("div","lh-report"));d.appendChild(this._renderReportWarnings(a));var e,f=1===a.reportCategories.length;f?b.classList.add("lh-header--solo-category"):
e=this._dom.createElement("div","lh-scores-header");var g=new DetailsRenderer(this._dom);f=new CategoryRenderer(this._dom,g);f.setTemplateContext(this._templateContext);g=new PerformanceCategoryRenderer(this._dom,g);g.setTemplateContext(this._templateContext);for(var k=d.appendChild(this._dom.createElement("div","lh-categories")),l=$jscomp.makeIterator(a.reportCategories),h=l.next();!h.done;h=l.next()){h=h.value;e&&e.appendChild(f.renderScoreGauge(h));var m=f;"performance"===h.id&&(m=g);k.appendChild(m.render(h,
a.categoryGroups))}e&&(f=this._dom.cloneTemplate("#tmpl-lh-scorescale",this._templateContext),this._dom.find(".lh-scorescale-label",f).textContent=Util.UIStrings.scorescaleLabel,g=this._dom.find(".lh-scores-container",b),g.appendChild(e),g.appendChild(f));d.appendChild(this._renderReportFooter(a));a=this._dom.createFragment();a.appendChild(b);a.appendChild(c);return a};ReportRenderer._UIStringsStash={};"undefined"!==typeof module&&module.exports?module.exports=ReportRenderer:self.ReportRenderer=ReportRenderer;function prepareLabData(a,b){var c="string"===typeof a?JSON.parse(a):a;a=new DOM(b);a.resetTemplates();var d=Util.prepareReportResult(c);b=d.reportCategories.find(function(a){return"performance"===a.id});if(!b)throw Error("No performance category. Can't make lab data section");if(!d.categoryGroups)throw Error("No category groups found.");d.categoryGroups.metrics.title=c.i18n.rendererFormattedStrings.labDataTitle;d.categoryGroups.metrics.description=c.i18n.rendererFormattedStrings.lsPerformanceCategoryDescription;
c=new PerformanceCategoryRenderer(a,new DetailsRenderer(a));c=c.render(b,d.categoryGroups,"PSI");d=a.find(".lh-score__gauge",c);d.remove();a=a.find(".lh-gauge__wrapper",d);a.classList.add("lh-gauge__wrapper--huge");a.removeAttribute("href");b=_getFinalScreenshot(b);return{scoreGaugeEl:d,perfCategoryEl:c,finalScreenshotDataUri:b}}
function _getFinalScreenshot(a){return(a=a.auditRefs.find(function(a){return"final-screenshot"===a.id}))&&a.result&&"error"!==a.result.scoreDisplayMode?a.result.details.data:null}"undefined"!==typeof module&&module.exports?module.exports=prepareLabData:self.prepareLabData=prepareLabData;
